use "../stdlib/OS.shtk" as os

fn main(argc: int, argv: ulong[]) -> int
{
    println("getArg", os::getArg(argv, 0))  

    const path := os::getcwd()
    println("getcwd", path.expect().endsWith("ShnooTalk/stdlib/tests"))

    println("mkdir foobar", os::mkdir("foobar").isNonZero())
    println("chdir foobar", os::chdir("foobar").isNonZero())
    const path1 := os::getcwd()
    println("getcwd", path1.expect().endsWith("ShnooTalk/stdlib/tests/foobar"))
    println("chdir ..", os::chdir("..").isNonZero())
    const path2 := os::getcwd()
    println("getcwd", path2.expect().endsWith("ShnooTalk/stdlib/tests"))
    println("rmdir foobar", os::rmdir("foobar").isNonZero())
    println("mkdir foobar", os::mkdir("foobar").isNonZero())
    println("rmdir foobar", os::rmdir("foobar").isNonZero())

    return 0
}